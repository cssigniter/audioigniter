window.wp=window.wp||{},window.wp.block=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=12)}([function(e,t){e.exports=window.wp.i18n},function(e,t,a){e.exports=a(8)()},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.serverSideRender},function(e,t,a){"use strict";var r=a(9);function n(){}e.exports=function(){function e(e,t,a,n,l,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(5),l=a(3),o=a(6),i=a(2),c=a(4),u=a(7),p=a.n(u),s=[],m=function(e){var t=e.attributes,a=e.setAttributes,r=e.clientId,n=t.uniqueId;Object(l.useEffect)((function(){if(!n||s.includes(n)){var e=r.substr(2,9);return s.push(e),void a({uniqueId:e})}n&&!s.includes(n)&&s.push(n)}),[])};var b,d=function(e){var t=e.attributes.playerId;return Object(l.useEffect)((function(){t&&setTimeout((function(){var e=document.querySelectorAll("#audioigniter-"+t);e.length>0&&[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(e)).forEach((function(e){return __CI_AUDIOIGNITER_MANUAL_INIT__(e)}))}),600)}),[]),"Loading playlist..."},w=a(1),f=a.n(w),v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y={children:f.a.string.isRequired,id:f.a.string},_="tablet",h="mobile",k=(g(b={},"desktop",""),g(b,_,991),g(b,h,575),b),O=function(e){var t=e.id,a=e.value,n=e.rule,l=e.unit,o=void 0===l?"":l,i=e.edgeCase;if(null==a||""===a)return null;var c="#"+t,u=n.split(",").map((function(e){return c+" "+e})).join(",");return i&&i.edge===a?Object(r.sprintf)(u,i.value):Object(r.sprintf)(u,""+a+o)},E=function(e,t){var a=[{name:"desktop",media:"max",width:k.desktop,rules:[]},{name:"tablet",media:"max",width:k.tablet,rules:[]},{name:"mobile",media:"max",width:k.mobile,rules:[]},{name:"desktop-only",media:"min",width:k.tablet+1,rules:[]},{name:"tablet-only",media:"min",width:k.mobile+1,rules:[]}];return l.Children.toArray(t).reduce((function(t,a){var r=a.props,n=r.value,l=r.rule,o=r.unit,i=r.edgeCase,c=r.breakpointLimit;if("object"!==(void 0===n?"undefined":v(n))||!("desktop"in n)){var u=t.find((function(e){return"desktop"===e.name})),p=O({id:e,value:n,rule:l,unit:o,edgeCase:i});return null!=p&&u.rules.push(p),t}return Object.keys(n).forEach((function(a){var r=t.find((function(e){var t=e.name;return c&&"mobile"!==a?a+"-only"===t:t===a})),u=O({id:e,value:n[a],rule:l,unit:o,edgeCase:i,breakpointLimit:c});null!=u&&r.rules.push(u)})),t}),a)},C=function(e){return e.reduce((function(e,t){if(!t.rules.length)return e;var a=t.rules.map((function(e){return e.trim()})).join("\n");return t.width?"tablet-only"===t.name?e+"\n\n          @media (min-width: "+(k.mobile+1)+"px) and (max-width: "+k.tablet+"px) {\n            "+a+"\n          }\n        ":e+"\n\n      @media ("+t.media+"-width: "+t.width+"px) {\n        "+a+"\n      }\n    ":""+e+a+"\n"}),"").trim()},j=function(e){var t=e.id,a=void 0===t?"":t,r=e.children,n=e.methods,l=void 0===n?{getStylesArrayFromChildren:E,generateStyles:C}:n,o=l.getStylesArrayFromChildren,i=l.generateStyles,c=o(a,r);return function(e){return e.every((function(e){return 0===e.rules.length}))}(c)?null:wp.element.createElement("style",{dangerouslySetInnerHTML:{__html:i(c)}})};j.propTypes=y;var x=j,S={value:f.a.oneOfType([f.a.string,f.a.number,f.a.object]).isRequired,rule:f.a.string.isRequired,unit:f.a.oneOf(["px","%","em","rem","vh","vw","pt","cm","mm"]),edgeCase:f.a.shape({edge:f.a.any.isRequired,value:f.a.string.isRequired}),breakpointLimit:f.a.bool},I=function(){return null};I.propTypes=S;var A=I,T=function(e){var t=e.attributes,a=t.uniqueId,r=t.backgroundColor,n=t.textColor,l=t.accentColor,o=t.textOnAccentColor,i=t.controlColor,c=t.backgroundImage,u=c.url,p=c.repeat,s=c.size,m=c.position,b=c.attachment;return wp.element.createElement(x,{id:"audioigniter-block-"+a},wp.element.createElement(A,{rule:".ai-wrap { background-color: %s; }",value:r}),wp.element.createElement(A,{rule:".ai-wrap .ai-volume-bar { border-right-color: %s; }",value:r}),wp.element.createElement(A,{rule:".ai-wrap .ai-track-btn { border-left-color: %s; }",value:r}),wp.element.createElement(A,{rule:".ai-wrap { background-image: url(%s); }",value:u}),wp.element.createElement(A,{rule:".ai-wrap { background-repeat: %s; }",value:p}),wp.element.createElement(A,{rule:".ai-wrap { background-size: %s; }",value:s}),wp.element.createElement(A,{rule:".ai-wrap { background-position: %s; }",value:m}),wp.element.createElement(A,{rule:".ai-wrap { background-attachment: %s; }",value:b}),wp.element.createElement(A,{rule:".ai-wrap, .ai-wrap .ai-btn, .ai-wrap .ai-track-btn { color: %s; }",value:n}),wp.element.createElement(A,{rule:" .ai-wrap .ai-btn svg, .ai-wrap .ai-track-no-thumb svg, .ai-wrap .ai-track-btn svg { fill: %s; }",value:n}),wp.element.createElement(A,{rule:".ai-wrap .ai-audio-control, .ai-wrap .ai-audio-control:hover, .ai-wrap .ai-audio-control:focus, .ai-wrap .ai-track-progress, .ai-wrap .ai-volume-bar.ai-volume-bar-active::before, .ai-wrap .ai-track:hover, .ai-wrap .ai-track.ai-track-active, .ai-wrap .ai-btn.ai-btn-active { background-color: %s; }",value:l}),wp.element.createElement(A,{rule:".ai-wrap .ai-scroll-wrap > div:last-child div { background-color: %s !important; }",value:l}),wp.element.createElement(A,{rule:" .ai-wrap .ai-btn:hover, .ai-wrap .ai-btn:focus, .ai-wrap .ai-footer a, .ai-wrap .ai-footer a:hover { color: %s; }",value:l}),wp.element.createElement(A,{rule:" .ai-wrap .ai-btn:hover svg, .ai-wrap .ai-btn:focus svg  { fill: %s; }",value:l}),wp.element.createElement(A,{rule:" .ai-wrap .ai-audio-control, .ai-wrap .ai-track:hover, .ai-wrap .ai-track.ai-track-active, .ai-wrap .ai-track.ai-track-active .ai-track-btn, .ai-wrap .ai-track:hover .ai-track-btn, .ai-wrap .ai-btn.ai-btn-active { color: %s; } ",value:o}),wp.element.createElement(A,{rule:" .ai-wrap .ai-audio-control path, .ai-wrap .ai-track.ai-track-active .ai-track-btn path, .ai-wrap .ai-track:hover .ai-track-btn path, .ai-wrap .ai-btn.ai-btn-active path { fill: %s; } ",value:o}),wp.element.createElement(A,{rule:" .ai-wrap .ai-track-progress-bar, .ai-wrap .ai-volume-bar, .ai-wrap .ai-btn, .ai-wrap .ai-btn:hover, .ai-wrap .ai-btn:focus, .ai-wrap .ai-track, .ai-wrap .ai-track-no-thumb { background-color: %s; } ",value:i}),wp.element.createElement(A,{rule:" .ai-wrap .ai-scroll-wrap > div:last-child { background-color: %s; } ",value:i}),wp.element.createElement(A,{rule:" .ai-wrap .ai-footer { border-top-color: %s; } ",value:i}),wp.element.createElement(A,{rule:" .ai-wrap.ai-is-loading .ai-control-wrap-thumb::after, .ai-wrap.ai-is-loading .ai-track-title::after, .ai-wrap.ai-is-loading .ai-track-subtitle::after { background: %s; } ",value:i}))},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},R={setAttributes:f.a.func.isRequired,attributeKey:f.a.string.isRequired,attributes:f.a.object.isRequired,label:f.a.string,supportsParallax:f.a.bool},q=function(e){var t=e.setAttributes,a=e.attributeKey,n=e.attributes,o=e.label,u=void 0===o?Object(r.__)("Background"):o,p=e.supportsParallax,s=n[a],m=function(e){t({backgroundImage:P({},s,e)})},b=s.url,d=s.repeat,w=s.size,f=s.position,v=s.attachment,g=s.parallax,y=s.parallaxSpeed;return wp.element.createElement("div",{className:"ci-control-background"},wp.element.createElement("p",{className:"ci-control-background-label"},u),wp.element.createElement("div",{className:"ci-control-background-image-wrap"},b?wp.element.createElement(l.Fragment,null,wp.element.createElement(c.MediaUpload,{onSelect:function(e){m({url:e.url,image:e})},allowedTypes:["image"],render:function(e){var t=e.open;return wp.element.createElement(l.Fragment,null,wp.element.createElement("a",{href:"#",className:"ci-control-background-image-placeholder",onClick:t},wp.element.createElement("img",{src:b,alt:""})),wp.element.createElement("div",{className:"ci-control-background-image-actions"},wp.element.createElement(i.Button,{isDefault:!0,onClick:t},Object(r.__)("Change")),wp.element.createElement(i.Button,{isDefault:!0,onClick:function(){return m({url:"",image:null})}},Object(r.__)("Remove"))))}})):wp.element.createElement(c.MediaUpload,{onSelect:function(e){m({url:e.url,image:e})},allowedTypes:["image"],render:function(e){var t=e.open;return wp.element.createElement("div",{className:"ci-control-background-image-actions"},wp.element.createElement(i.Button,{isDefault:!0,onClick:t},Object(r.__)("Choose Image")))}})),wp.element.createElement("div",{className:"ci-split-field"},wp.element.createElement(i.SelectControl,{label:Object(r.__)("Image Repeat"),value:d,options:[{value:"no-repeat",label:Object(r.__)("No repeat")},{value:"repeat",label:Object(r.__)("Tile")},{value:"repeat-x",label:Object(r.__)("Tile Horizontally")},{value:"repeat-y",label:Object(r.__)("Tile Vertically")}],onChange:function(e){return m({repeat:e})}}),wp.element.createElement(i.SelectControl,{label:Object(r.__)("Image Position"),value:f,options:[{value:"left top",label:Object(r.__)("Top left")},{value:"center top",label:Object(r.__)("Top center")},{value:"right top",label:Object(r.__)("Top right")},{value:"left center",label:Object(r.__)("Center left")},{value:"center center",label:Object(r.__)("Center")},{value:"right center",label:Object(r.__)("Center right")},{value:"left bottom",label:Object(r.__)("Bottom left")},{value:"center bottom",label:Object(r.__)("Bottom center")},{value:"right bottom",label:Object(r.__)("Bottom right")}],onChange:function(e){return m({position:e})}})),wp.element.createElement("div",{className:"ci-split-field"},wp.element.createElement(i.SelectControl,{label:Object(r.__)("Image Attachment"),value:v,options:[{value:"scroll",label:Object(r.__)("Scroll")},{value:"fixed",label:Object(r.__)("Fixed")}],onChange:function(e){return m({attachment:e})}}),wp.element.createElement(i.SelectControl,{label:Object(r.__)("Image Size"),value:w,options:[{value:"cover",label:Object(r.__)("Cover")},{value:"contain",label:Object(r.__)("Contain")},{value:"auto",label:Object(r.__)("Auto")}],onChange:function(e){return m({size:e})}})),p&&!!b&&wp.element.createElement(l.Fragment,null,wp.element.createElement(i.ToggleControl,{label:Object(r.__)("Enable Parallax"),checked:g,onChange:function(e){return m({parallax:e})}}),wp.element.createElement(i.RangeControl,{label:Object(r.__)("Parallax Speed"),value:y,min:0,max:1,step:.1,onChange:function(e){return m({parallaxSpeed:e})}})))};q.propTypes=R;var N=q;function B(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var z=function(e){var t=e.attributes,a=e.setAttributes,n=e.className,u=e.clientId,s=t.uniqueId,b=t.playerId,w=t.backgroundColor,f=t.textColor,v=t.accentColor,g=t.textOnAccentColor,y=t.controlColor;m({attributes:t,setAttributes:a,clientId:u});var _=Object(o.useSelect)((function(e){return{playlists:(0,e("core").getEntityRecords)("postType","ai_playlist",{per_page:-1})}})).playlists,h=void 0===_?[]:_;return wp.element.createElement(l.Fragment,null,wp.element.createElement("div",{id:"audioigniter-block-"+s,className:n},wp.element.createElement(T,{attributes:t}),wp.element.createElement(p.a,{block:"audioigniter/player",attributes:{uniqueId:s,playerId:b},LoadingResponsePlaceholder:d})),wp.element.createElement(c.InspectorControls,null,wp.element.createElement(i.PanelBody,{title:Object(r.__)("Settings"),initialOpen:!0},wp.element.createElement(i.SelectControl,{label:Object(r.__)("Playlist"),value:b,options:[{label:Object(r.__)("Select a playlist"),value:null}].concat(B((h||[]).map((function(e){return{label:e.title.raw,value:e.id}})))),onChange:function(e){return a({playerId:e})}})),wp.element.createElement(c.PanelColorSettings,{title:Object(r.__)("Player Appearance"),initialOpen:!1,colorSettings:[{value:w,onChange:function(e){return a({backgroundColor:e})},label:Object(r.__)("Background Color")},{value:f,onChange:function(e){return a({textColor:e})},label:Object(r.__)("Text Color")},{value:v,onChange:function(e){return a({accentColor:e})},label:Object(r.__)("Accent Color")},{value:g,onChange:function(e){return a({textOnAccentColor:e})},label:Object(r.__)("Text on Accent Color")},{value:y,onChange:function(e){return a({controlColor:e})},label:Object(r.__)("Controls Color")}]},wp.element.createElement(N,{attributes:t,setAttributes:a,attributeKey:"backgroundImage",label:Object(r.__)("Background Image")}))))},M=function(){return wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("g",{fill:"none",fillRule:"evenodd"},wp.element.createElement("rect",{stroke:"#003B56",fill:"#014969",x:".5",y:".5",width:"23",height:"23",rx:"3"}),wp.element.createElement("path",{d:"M14.746 5.973a1.114 1.114 0 0 0-2.15-.576l-3.457 12.9a1.113 1.113 0 0 0 2.15.576l3.457-12.9zm1.825 3.93a1.114 1.114 0 0 0-2.15-.576l-1.729 6.45a1.113 1.113 0 0 0 2.15.577l1.729-6.45zm-5.375-1.44a1.114 1.114 0 0 0-2.15-.576l-1.729 6.45a1.113 1.113 0 0 0 2.15.576l1.729-6.45zm7.486 4.31a1.114 1.114 0 0 0-2.15-.575l-.576 2.15a1.113 1.113 0 0 0 2.15.576l.576-2.15zM8.04 9.923a1.113 1.113 0 0 0-2.15-.576l-.576 2.15a1.113 1.113 0 0 0 2.15.576l.576-2.15z",fill:"#FC0"})))};a(10);Object(n.registerBlockType)("audioigniter/player",{title:Object(r.__)("AudioIgniter Player"),description:Object(r.__)("Display your AudioIgniter player"),icon:M,category:"audioigniter",keywords:[Object(r.__)("playlist"),Object(r.__)("audioigniter"),Object(r.__)("player")],attributes:{uniqueId:{type:"string"},playerId:{type:"string"},backgroundColor:{type:"string"},backgroundImage:{type:"object",default:{url:"",image:null,repeat:"no-repeat",size:"cover",position:"top center",attachment:"scroll",parallax:!1,parallaxSpeed:.3}},textColor:{type:"string"},accentColor:{type:"string"},textOnAccentColor:{type:"string"},controlColor:{type:"string"}},edit:z,save:function(){return null}})}]);